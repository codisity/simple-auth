<!DOCTYPE html>
<html lang="pl">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width" />
    <title>Status</title>
  </head>
  <body>
    <form action="/api/session">
      <button>Sprawd≈∫ status</button>
      <output name="output"></output>
    </form>

    <script>
      const form = document.querySelector("form")
      form.addEventListener("submit", handleSubmit)

      async function handleSubmit(event) {
        event.preventDefault()

        const formData = new FormData(event.target)

        const response = await fetch(form.action)
        const responseData = await response.json()

        form.output.innerText = JSON.stringify(responseData)
      }
    </script>
  </body>
</html>
